<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
<div class="container mt-4">
    <h2 class="mb-3">Danh s√°ch s·∫£n ph·∫©m</h2>
    <!-- N√∫t Quay v·ªÅ trang ch·ªß -->
    <div class="alert alert-primary d-flex justify-content-between align-items-center" role="alert">
        <span>Trang ch·ªß</span>
        <a th:href="@{/home}" class="alert-link">üè† Quay v·ªÅ trang ch·ªß</a>
    </div>

    <!-- Th√™m s·∫£n ph·∫©m m·ªõi -->
    <div class="alert alert-success d-flex justify-content-between" role="alert">
        <span>Qu·∫£n l√Ω s·∫£n ph·∫©m</span>
        <a th:href="@{/products/create}" class="alert-link">‚ûï Th√™m s·∫£n ph·∫©m m·ªõi</a>
    </div>

    <!-- Logout -->
    <div class="alert alert-danger d-flex justify-content-between" role="alert">
        <span>Phi√™n l√†m vi·ªác</span>
        <a th:href="@{/admin/logout}" class="alert-link">üö™ ƒêƒÉng xu·∫•t</a>
    </div>

    <!-- Form t√¨m ki·∫øm -->
    <form th:action="@{/products}" method="get" class="row g-3 mb-4">
        <div class="col-md-4">
            <label for="keyword" class="form-label">T√™n s·∫£n ph·∫©m</label>
            <input type="text" class="form-control" name="keyword" id="keyword"
                   placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m" th:value="${keyword}">
        </div>
        <div class="col-md-2">
            <label for="brand" class="form-label">Nh√£n h√†ng</label>
            <input type="text" class="form-control" name="brand" id="brand"
                   placeholder="Nh·∫≠p nh√£n h√†ng" th:value="${brand}">
        </div>
        <div class="col-md-2">
            <label for="minStock" class="form-label">T·ªìn kho t·ª´</label>
            <input type="number" class="form-control" name="minStock" id="minStock"
                   th:value="${minStock}">
        </div>
        <div class="col-md-2">
            <label for="maxStock" class="form-label">ƒê·∫øn</label>
            <input type="number" class="form-control" name="maxStock" id="maxStock"
                   th:value="${maxStock}">
        </div>
        <div class="col-md-2">
            <label for="isDeleted" class="form-label">Tr·∫°ng th√°i</label>
            <select id="isDeleted" name="isDeleted" class="form-control">
                <option value="null" th:selected="${isDeleted == null}">T·∫•t c·∫£</option>
                <option value="false" th:selected="${isDeleted == false}">Ho·∫°t ƒë·ªông</option>
                <option value="true" th:selected="${isDeleted == true}">ƒê√£ x√≥a</option>
            </select>
        </div>
        <div class="col-md-2 align-self-end">
            <button type="submit" class="btn btn-primary w-100">üîç T√¨m ki·∫øm</button>
        </div>
        <div class="col-md-2 align-self-end">
            <a th:href="@{/products}" class="btn btn-secondary w-100">Reset</a>
        </div>

    </form>

    <!-- B·∫£ng danh s√°ch s·∫£n ph·∫©m -->
    <table class="table table-striped table-bordered table-hover">
        <thead class="table-dark">
        <tr>
            <th scope="col">ID</th>
            <th scope="col">T√™n</th>
            <th scope="col">Nh√£n h√†ng</th>
            <th scope="col">Gi√°</th>
            <th scope="col">T·ªìn kho</th>
            <th scope="col">Tr·∫°ng th√°i</th>
            <th scope="col">·∫¢nh</th>
            <th scope="col">H√†nh ƒë·ªông</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="p : ${productPage}">
            <td th:text="${p.id}"></td>
            <td th:text="${p.name}"></td>
            <td th:text="${p.brand}"></td>
            <td th:text="${p.price}"></td>
            <td th:text="${p.stock}"></td>
            <td>
                <span th:text="${p.isDeleted ? 'ƒê√£ x√≥a' : 'Ho·∫°t ƒë·ªông'}"
                      th:classappend="${p.isDeleted} ? 'badge bg-danger' : 'badge bg-success'">
                </span>
            </td>
            <td>
                <img th:src="${p.image}" alt="·∫¢nh" class="img-thumbnail" style="max-width: 80px;">
            </td>
            <td>
                <a th:href="@{'/products/edit/' + ${p.id}}" class="btn btn-sm btn-warning">‚úèÔ∏è S·ª≠a</a>
                <a th:href="@{'/products/delete/' + ${p.id}}" class="btn btn-sm btn-danger"
                   onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a?')">üóëÔ∏è X√≥a</a>
            </td>
        </tr>
        </tbody>
    </table>

    <!-- Ph√¢n trang -->
    <nav aria-label="Page navigation" th:if="${totalPages > 0}">
        <ul class="pagination justify-content-center">
            <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled'">
                <a class="page-link" th:href="@{/products(page=${currentPage - 1}, size=5, keyword=${keyword},brand=${brand},minStock=${minStock},maxStock=${maxStock},isDeleted=${isDeleted})}">Trang tr∆∞·ªõc</a>
            </li>
            <li class="page-item" th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
                th:classappend="${i == currentPage} ? 'active'">
                <a class="page-link" th:href="@{/products(page=${i}, size=5,keyword=${keyword},brand=${brand},minStock=${minStock},maxStock=${maxStock},isDeleted=${isDeleted})}" th:text="${i + 1}"></a>
            </li>
            <li class="page-item" th:classappend="${currentPage + 1 >= totalPages} ? 'disabled'">
                <a class="page-link" th:href="@{/products(page=${currentPage + 1}, size=5,keyword=${keyword},brand=${brand},minStock=${minStock},maxStock=${maxStock},isDeleted=${isDeleted})}">Trang sau</a>
            </li>
        </ul>
    </nav>
</div>
</body>
</html>


